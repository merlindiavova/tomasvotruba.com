<!DOCTYPE html>
<html lang="en">
    <head>
        <title>New in Symplify 5: Generate Rich, Precise and Smart Changelog in Seconds | Tomas Votruba</title>
<meta charset="utf-8">
<meta name="robots" content="index, follow">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:creator" content="@votrubaT"/>

    <meta property="og:title" content="New in Symplify 5: Generate Rich, Precise and Smart Changelog in Seconds" />
    <meta property="og:url" content="https://tomasvotruba.com/blog/2018/10/01/new-in-symplify-5-generate-rich-precise-and-smart-changelog-in-seconds" />

            <meta property="og:image" content="https://tomasvotruba.com/assets/images/tomas_votruba.jpg"/>
        <meta name="twitter:image" content="https://tomasvotruba.com/assets/images/tomas_votruba.jpg"/>
    
<link rel="alternate" type="application/rss+xml" title="Tomas Votruba Blog RSS" href="/rss.xml">


<link rel="stylesheet" rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:700&amp;display=swap" />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous" media="print" onload="this.media='all'">

<link href="/assets/css/style.css?965158205" rel="stylesheet" type="text/css" />

                <meta name="description" property="og:description" content="ChangelogLinker started as a small tool to complete links to PRs, authors, and versions in `CHANGELOG.md`. Then it started to [generate](/blog/2018/06/25/let-changelog-linker-generate-changelog-for-you/) the `CHANGELOG.md`.
 
 **Where is now and how to start using it?**
" />
    </head>

    <body>
        <!-- post_id: 144 -->
        <div id="menu">
    <div class="container-fluid">
        <a href="/">Home</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/blog">Blog</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/book/the-power-of-automated-refactoring">Book</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/trainings">Trainings</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/contact">Contact</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/about-me">About Me</a>
        <span class="pl-2 pr-2">•</span>

        <a href="https://twitter.com/votrubaT" target="blank">Twitter</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/rss.xml" target="blank">RSS</a>
    </div>
</div>

        <div class="container-fluid post" id="content">
            <div class="text-center book-banner">
                <a href="https://leanpub.com/rector-the-power-of-automated-refactoring" target="blank" class="text-center">
                    <img src="/assets/images/banner-rector-book.png" class="mb-2 ml-auto mr-auto rounded " style="max-height: 5em" alt="">
                </a>
            </div>

            <h1>New in Symplify 5: Generate Rich, Precise and Smart Changelog in Seconds</h1>

            <div class="pull-right">
                <a href="https://github.com/tomasvotruba/tomasvotruba.com/edit/main/packages/blog/data/2018/2018-10-01-new-in-symplify-5-generate-rich-precise-and-smart-changelog-in-seconds.md">Found a typo? Edit me</a>
            </div>

            <time datetime="2018-10-Mon" class="text-muted">
                2018-10-01
            </time>

                            <div class="card border-danger mt-4">
                    <div class="card-header text-white bg-danger">
                        This post is deprecated since March 2021. Its knowledge is old and should not be used.
                        <br>
                        <strong>Why?</strong>
                    </div>
                    <div class="card-body pb-2">
                        <p>ChangelogLinker is now deprecated, because it has same features as GitHub pull-request overview with no added value. See <a href="https://github.com/symplify/symplify/issues/3027">this issue in detail</a>. Use <a href="https://github.com/lob/generate-changelog">lob/generate-changelog</a> or <a href="https://github.com/github-changelog-generator/github-changelog-generator">github-changelog-generator</a> instead or better switch to <strong><a href="https://docs.github.com/en/github/administering-a-repository/managing-releases-in-a-repository">GitHub releases</a></strong>.</p>
                    </div>
                </div>

                <br>
            
            
            <div class="card card-bigger mb-5">
                <div class="card-body pb-2">
                    <p>ChangelogLinker started as a small tool to complete links to PRs, authors, and versions in <code>CHANGELOG.md</code>. Then it started to <a href="/blog/2018/06/25/let-changelog-linker-generate-changelog-for-you/">generate</a> the <code>CHANGELOG.md</code>.
<br><br>
<strong>Where is now and how to start using it?</strong></p>
                </div>
            </div>

            <h2 id="Tested-on-Humans">Tested on Humans ✅</h2>
<p><a href="https://github.com/shopsys/shopsys/pull/446/files" class="btn btn-dark btn-sm mt-2">
See pull-request #446 on Shopsys
</a></p>
<blockquote class="blockquote text-center">
    "If you're not embarrassed by the first version of your product,<br>
    you've launched too late."
    <footer class="blockquote-footer"><a href="https://www.linkedin.com/pulse/arent-any-typos-essay-we-launched-too-late-reid-hoffman">Reid Hoffman</a>, Founder of Linkedin</footer>
</blockquote>
<p>The first version of any software is how the author(s) think people will use it. It's like trying to see the future of people you've never met. That's why the first version is <strong>better done than perfect</strong>. The important part is to <strong>collect feedback as soon as possible and improve based</strong> on it.</p>
<p>Saying that I recommended ChangelogLinker to Shopsys to manage news in their <a href="https://github.com/shopsys/shopsys">monorepo</a>. In exchange, I got informative and clear feedback with creative ideas on how to solve it from <a href="https://github.com/vitek-rostislav">Rostislav Vitek</a> and <a href="https://github.com/petrheinz">Petr Heinz</a>. <strong>Huge thanks for making this tool better belongs to you guys</strong>.</p>
<p><br></p>
<p>First, install this package:</p>
<pre><code class="language-bash">composer require symplify/changelog-linker --dev</code></pre>
<h2 id="1-Multiple-CHANGELOG-md-for-Smaller-Versions">1. Multiple <code>CHANGELOG.md</code> for Smaller Versions</h2>
<p><a href="https://github.com/symplify/symplify/pull/1047/files#diff-3b69acbe6b33a88158b373e6e96de097" class="btn btn-dark btn-sm">
See pull-request #1047
</a></p>
<p>If you have more than 2 major versions, your changelog can be really long and hard to orientate. Some people want to see the news in your version 3, some are still using version 1 and need to upgrade gradually.</p>
<p>I got this inspiration from Symfony, where they have *<em>own CHANGELOG per minor versions</em>:</p>
<pre><code class="language-bash">CHANGELOG-4.0.md
CHANGELOG-4.1.md</code></pre>
<p>Good idea to keep files not huge and clear. So <strong>Now</strong> it's possible to work with each CHANGELOG file separately - just use file path as the first argument of any command:</p>
<pre><code class="language-php">vendor/bin/changelog-linker link # "CHANGELOG.md" is used
vendor/bin/changelog-linker link CHANGELOG-2.md
vendor/bin/changelog-linker link CHANGELOG-3.md</code></pre>
<h2 id="2-Smarter-Last-Change-Detection">2. Smarter Last Change Detection</h2>
<p><a href="https://github.com/symplify/symplify/commit/05d91b9412ebec49a66a4717d856a5a2c6718232" class="btn btn-dark btn-sm">
See commit
</a></p>
<p>This package generates changelog from merged PRs, that are not mentioned in your <code>CHANGELOG.md</code> yet.</p>
<pre><code class="language-bash">vendor/bin/changelog-linker dump-merges</code></pre>
<p><strong>Before</strong> it looks for the highest merged PR ID and added only PRs with higher id. But what if you merge PR with number 1000, but number 990 is still opened due to longer code review?</p>
<p><strong>Now</strong> it works with the <code>merged_at</code> instead, so no merged PR is left behind.</p>
<h2 id="3-Remove-Dead-Links">3. Remove Dead Links</h2>
<p><a href="https://github.com/symplify/symplify/pull/1045/files" class="btn btn-dark btn-sm">
See pull-request #1045
</a></p>
<p>This is the best command to start with when you install this package for the first time.</p>
<p><code>CHANGELOG.md</code> can be edited, items removes, shifter above or links duplicated. To keep it fit and slim, you'd have to check this manually with every link. And believe me, if you have 500+ PRs, 50+ contributors and 30+ versions, it's not as fun as you imagine.</p>
<p>That's where &quot;cleanup&quot; rocks:</p>
<pre><code class="language-bash">vendor/bin/changelog-linker cleanup

# again, you can use the file as argument
vendor/bin/changelog-linker cleanup CHANGELOG-2.md</code></pre>
<p>In Symplify <code>CHANGELOG.md</code> itself it <a href="https://github.com/symplify/symplify/pull/1045/files#diff-4ac32a78649ca5bdd8e0ba38b7006a1e">removed 50 dead lines</a>.</p>
<h2 id="4-Improved-Category-Detection">4. Improved Category Detection</h2>
<p><a href="https://github.com/symplify/symplify/pull/1064/files#diff-2ee93fc74523d03ea046d5419ae75a9a" class="btn btn-dark btn-sm">
See pull-request #1064
</a></p>
<p><small>
Thanks to <a href="https://github.com/petrheinz">Petr Heinz</a> ❤️️
</small></p>
<p><br></p>
<p>When you generate a <code>CHANGELOG.md</code> you can use <code>--in-categories</code> option:</p>
<pre><code class="language-bash">vendor/bin/changelog-linker dump-merges --in-categories</code></pre>
<p>It will assign PRs to one of 4 categories: <em>Added</em>, <em>Fixed</em>, <em>Changed</em> and <em>Removed</em>. I didn't make them up, it's a standard taken from <a href="https://keepachangelog.com/en/1.0.0">keepachangelog.com</a>.</p>
<p><strong>How it works?</strong> It uses regex to detect keywords in the pull-request title, e.g.</p>
<p><code>Added "cleanup" command</code> → Added
<code>Remove dead links</code> → Removed
<code>Fix ID detection</code> → Fixed</p>
<p>You can see all the regexes in <a href="https://github.com/symplify/symplify/blob/v5.0.0/packages/ChangelogLinker/src/ChangeTree/Resolver/CategoryResolver.php"><code>CategoryResolver</code></a>.</p>
<p>Peter added many keywords, but also showed me a new trick : <strong>the <a href="https://www.regular-expressions.info/wordboundaries.html"><code>\b</code> wrapper</a></strong>:</p>
<pre><code class="language-bash">-private const ADDED_PATTERN = '#(add|added|adds) #i';
+private const ADDED_PATTERN = '#\b(add(s|ed|ing)?)\b#i';</code></pre>
<p>It means, that words need to be standalone. Not part of any other string.
Regex <code>\b(is)\b</code> applied to <code>"This island is beautiful"</code> returns <code>["is"]</code>.</p>
<p>A very nice trick that made detection much more precise. Thanks, Peter!</p>
<p><br></p>
<p>Happy changing!</p>

            <br>


            <div class="card mt-5 border-warning">
                <div class="card-body text-center mt-2">
                    <p>
                        Have you find this post useful? <strong>Do you want more?</strong>
                    </p>
                    <p>
                        Follow me on <a href="https://twitter.com/votrubaT">Twitter</a>, <a href="/rss.xml">RSS</a> or support me on <a href="https://github.com/sponsors/TomasVotruba">GitHub Sponsors</a>.
                    </p>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-body text-white bg-success text-center">
                                            <a href="/blog/2018/10/08/new-in-symplify-5-create-merge-and-split-monorepo-with-1-command" class="d-block">
                            <div>
                                Read next → <strong>New in Symplify 5: Create, Merge and Split Monorepo with 1 Command</strong>
                            </div>
                        </a>
                                    </div>
            </div>

            <br>
            <br>

            <a name="comments"></a>
            <div id="disqus_thread"></div>

<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://itsworthsharing.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
        </div>

        <script id="dsq-count-scr" src="https://itsworthsharing.disqus.com/count.js" async defer></script>

        <link href="/assets/prism/prism.css" rel="stylesheet" type="text/css" />
        <script src="/assets/prism/prism.js"></script>

        <script>
    ga=function(){ ga.q.push(arguments) };
    ga.q=[];
    ga.l=+new Date;
    ga('create', 'UA-46082345-1', 'auto');
    ga('send','pageview');
</script>
<script src="https://www.google-analytics.com/analytics.js" async defer></script>

        <script type="text/javascript">
            // @see https://stackoverflow.com/a/30776817/1348344
            var date = new Date();
            // display every 2nd hour, not to spam users
            if (date.getHours() % 2 === 1) {
                document.querySelector('.book-banner').style.display = 'visible';
            } else {
                document.querySelector('.book-banner').style.display = 'none';
            }
        </script>
    </body>
</html>
