<!DOCTYPE html>
<html lang="en">
    <head>
        <title>6 Reasons Why Doctrine is Alive and Kicking | Tomas Votruba</title>
<meta charset="utf-8">
<meta name="robots" content="index, follow">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:creator" content="@votrubaT"/>

    <meta property="og:title" content="6 Reasons Why Doctrine is Alive and Kicking" />
    <meta property="og:url" content="https://tomasvotruba.com/blog/2018/07/09/6-reasons-why-doctrine-is-alive-and-kicking" />

            <meta property="og:image" content="https://tomasvotruba.com/assets/images/posts/2018/doctrine-alive/contrib.png" />
        <meta name="twitter:image" content="https://tomasvotruba.com/assets/images/posts/2018/doctrine-alive/contrib.png"/>
    
<link rel="alternate" type="application/rss+xml" title="Tomas Votruba Blog RSS" href="/rss.xml">


<link rel="stylesheet" rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:700&amp;display=swap" />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous" media="print" onload="this.media='all'">

<link href="/assets/css/style.css?766182402" rel="stylesheet" type="text/css" />

                <meta name="description" property="og:description" content="Almost 1,5 year ago I wrote [Why is Doctrine Dying](/blog/2017/03/27/why-is-doctrine-dying/). I didn&#039;t use *dead*, because it&#039;s is just state of time being. Open-source projects - like people - tend to find themselves on the top, being stuck or struggling with the right path from time to time. It&#039;s a completely normal process of evolution.

I don&#039;t know if that post helped it, but since then many **things changed for better in Doctrine project**. Saying that this post deprecates my old view and celebrate changes.

**May this be an inspiration for open-source projects that find themselves stuck and the maintainers that find themselves unhappy**.
" />
    </head>

    <body>
        <!-- post_id: 121 -->
        <div id="menu">
    <div class="container-fluid">
        <a href="/">Home</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/blog">Blog</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/book/the-power-of-automated-refactoring">Book</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/trainings">Trainings</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/contact">Contact</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/about-me">About Me</a>
        <span class="pl-2 pr-2">•</span>

        <a href="https://twitter.com/votrubaT" target="blank">Twitter</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/rss.xml" target="blank">RSS</a>
    </div>
</div>

        <div class="container-fluid post" id="content">
            <div class="text-center book-banner">
                <a href="https://leanpub.com/rector-the-power-of-automated-refactoring" target="blank" class="text-center">
                    <img src="/assets/images/banner-rector-book.png" class="mb-2 ml-auto mr-auto rounded " style="max-height: 5em" alt="">
                </a>
            </div>

            <h1>6 Reasons Why Doctrine is Alive and Kicking</h1>

            <div class="pull-right">
                <a href="https://github.com/tomasvotruba/tomasvotruba.com/edit/main/packages/blog/data/2018/2018-07-09-6-reasons-why-doctrine-is-alive-and-kicking.md">Found a typo? Edit me</a>
            </div>

            <time datetime="2018-07-Mon" class="text-muted">
                2018-07-09
            </time>

            
            
            <div class="card card-bigger mb-5">
                <div class="card-body pb-2">
                    <p>Almost 1,5 year ago I wrote <a href="/blog/2017/03/27/why-is-doctrine-dying/">Why is Doctrine Dying</a>. I didn't use <em>dead</em>, because it's is just state of time being. Open-source projects - like people - tend to find themselves on the top, being stuck or struggling with the right path from time to time. It's a completely normal process of evolution.
<br><br>
I don't know if that post helped it, but since then many <strong>things changed for better in Doctrine project</strong>. Saying that this post deprecates my old view and celebrate changes.
<br><br>
<strong>May this be an inspiration for open-source projects that find themselves stuck and the maintainers that find themselves unhappy</strong>.</p>
                </div>
            </div>

            <p>What's new in Doctrine and what might help you and your project to restart?</p>
<h2 id="1-Bump-PHP-7-1-Without-Waiting-for-Major-Release">1. Bump PHP 7.1 Without Waiting for Major Release</h2>
<p>Doctrine bumped <strong>all packages</strong> to min PHP 7.1. This change reduces a lot of features that have to be maintained. But that's not the best benefits in my opinion. The best thing is <strong>the maintainer doesn't have to keep in mind all the clutter know-how</strong> he or she probably uses only for this project, like arrays should be written in <code>array()</code>, there is no <code>void</code> yet or <code>yield</code> yet etc. This makes development much faster and enjoyable.</p>
<p>In <a href="https://www.doctrine-project.org/2017/07/25/php-7.1-requirement-and-composer.html">the official post</a> they explain why this not a BC (back-compatibility) break and I must say I really like it and often refer to it:</p>
<blockquote class="blockquote mt-5 mb-5">
    One question we frequently hear is, "isn't dropping support for a PHP version a BC break"? In a nutshell, no. <strong>A BC break happens when there is an incompatible change that your package manager can't handle</strong>. For example, changing a method signature in a minor version is a no-go, since the composer version constraints mentioned above assume any minor upgrade can safely be used.
    <br>
    <br>
However, when we drop support for an older version of PHP, <strong>composer will not consider the new version if the PHP version requirement is no longer fulfilled</strong>. Thus, you won't end up with a fatal error due to a wrong method signature, you just won't get the new version.
</blockquote>
<p>Until we agree on regular PHP minor version bumping as a community, I think it's the best to jump to <em>the unicorn</em> versions. Those with the biggest impact, the most stable and helpful - and go PHP 7.1 as one.</p>
<h2 id="2-Use-Coding-Standard">2. Use Coding Standard</h2>
<p>Although the coding standard is standard nowadays, it's not very easy to setup them to existing projects. Moreover more complex ones than a few basic rules. I'm very happy to see that Doctrine made this happen. The <a href="https://github.com/doctrine/coding-standard/blob/master/lib/Doctrine/ruleset.xml"><code>ruleset.xml</code></a> is quite rich.</p>
<p>Coding Standard makes contributing much more fearless since <strong>you don't have to worry I'll get smashed in code-review by &quot;extra space here&quot; comment</strong>.</p>
<p>Since it uses only PHP_CodeSniffer and not PHP CS Fixer, these still is a lot of manual work and space for huge cost-effective improvement. I tried to help with EasyCodingStandard implementation many months ago, but in that time ECS required PHP 7.1 and Doctrine not and used Neon of YAML to configure. Not anymore! <a href="/blog/2018/03/26/new-in-easy-coding-standard-4-clean-symfony-standard-with-yaml-and-services/">YAML is now default since ECS 4</a>, so the path is open from the technical point of view.</p>
<h2 id="3-Cut-the-Weight-to-Save-Yourself">3. Cut the Weight to Save Yourself</h2>
<p>Let's stay with YAML for a few more moments. There was PR to Doctrine to <a href="https://github.com/doctrine/doctrine2/pull/5932">remove all YAML references</a> (mainly Entity mapping) in the time of writing my former post, but it was not clear when that will happen.</p>
<img src="/assets/images/posts/2018/doctrine-alive/yaml-drop.png" class="img-thumbnail">
<p>Now it's clear the Doctrine 3.0 will include this drop. This is very similar to PHP 7.1 change. The most healthy benefit is that maintainers don't have to constantly think about PHP, XML, YAML and Annotation support in everything they do - just in case it might be related to it. Instead, <strong>the focus is now more narrow, clear and as a side effect - development is more enjoyable</strong>.</p>
<div class="text-center">
    <img src="/assets/images/posts/2018/doctrine-alive/balloon.jpg" class="img-thumbnail">
    <br>
    <em>
        It's like a hot air balloon.<br>
        If you have too many sandbags, you won't fly as high you want no matter how hard you try.
        <br>
        Drop just a few of them and you'll see how life becomes much lighter.
    </em>
</div>
<h3 id="Get-rid-of-Over-Support-as-part-of-Psychohygiene">Get rid of Over-Support as part of Psychohygiene</h3>
<p><em>Over-support</em> is very common in open source. It happened to me in ECS, <a href="/blog/2017/09/04/how-apigen-survived-its-own-death//">I saw it ApiGen</a> and almost burned out while getting rid of it (it also took me many months to even realize it and step out of it). <strong>People request features, your project is popular, you gave people these features and that makes it more popular, so more people request features... it's challenging to keep on track when you're on celebrity power-trip</strong>.</p>
<p>It's very healthy to be <a href="/blog/2018/06/21/open-source-is-selfish//">selfish in open-source</a>, not just for you for for the project to live and prosper.</p>
<h2 id="4-Give-People-Vision-to-Follow">4. Give People Vision to Follow</h2>
<p>How can people orientate in the product, the package, the ideas, if you have no information about it? People need to know, what will happen when - at least approximately, but moreover in software that changes so fast. There were times when there was one post for a whole year <a href="https://www.doctrine-project.org/blog">on Doctrine's blog</a>. That changed!</p>
<p>The blog was refreshed, <a href="https://github.com/doctrine/doctrine-website">fully-open sourced</a> and now runs on Sculpin, a project that I used before and get a lot of inspiration for <a href="https://www.statie.org">Statie</a>.</p>
<p>There is news about Doctrine ORM 3.0 about PHP 7.1 bump etc. Even these small notes give a great feeling of trust, of <em>something is going on</em> feeling, that creates a relationship.</p>
<h2 id="5-From-Talks-and-Post-Evangelization-to-Code-Improvements">5. From Talks and Post Evangelization to Code Improvements</h2>
<p>I didn't really measure myself this so <a href="https://www.goodreads.com/quotes/300097-i-only-believe-in-statistics-that-i-doctored-myself">I can't fake it</a>, but I have a feeling that there are fewer talks and posts about Doctrine than years before. And that's a good thing. Why? Because this energy is now directed to the code.</p>
<img src="/assets/images/posts/2018/doctrine-alive/contrib.png" class="img-thumbnail">
<p>Don't take me wrong, both development and popularization are important, but if the project is not moving ahead, the popularization only vendor-lock know-ledge to slowly deprecating code.</p>
<div class="text-center">
    <img src="/assets/images/posts/2018/doctrine-alive/hide.jpg" class="img-thumbnail">
    <em>
        So don't forget to hide from time to time from the public and deep-work on your project.<br>
        The world will wait in excitement for your news.
    </em>
</div>
<h2 id="6-New-Release-as-a-Baseline">6. New Release as a Baseline</h2>
<p>Last but not least, take a time and <a href="http://how-to-stay-organized.blogspot.com/2011/08/declutter-desk.html">declutter your desk</a> once a few months.</p>
<img src="https://4.bp.blogspot.com/-uISp2pDSrTs/Tjr1Rr_07NI/AAAAAAAAAls/F3cq72YywMw/s320/computer-desk-before.JPG" width="400px" class="img-thumbnail">
<p>↓</p>
<img src="https://4.bp.blogspot.com/-W7YoCGWIlP4/Tjr1y2qZaxI/AAAAAAAAAlw/RWqZI7ECmfQ/s320/computer-desk-after.JPG" width="400px" class="img-thumbnail">
<p>I think you know what a great feeling is to work with a clean desk. How does that relate to an open-source project?</p>
<p>Packages <strong>tagging</strong> is like <a href="https://www.doctrine-project.org/2017/07/25/php-7.1-requirement-and-composer.html">publishing a book</a>. You summarize all you know, all you did up-to-the one point of time. It's a big step, you celebrate it and... then you continue working on your next book.</p>
<img src="/assets/images/posts/2018/doctrine-alive/packages.png" class="img-thumbnail">
<p><strong>Tag from time to time just to put your work out, to get feedback, to share it with the world</strong> so anyone can <a href="/blog/2017/09/25/3-non-it-books-that-help-you-to-become-better-programmer/#steal-like-and-artist-by-austing-kleon">steal it</a>.</p>
<p><br><br></p>
<p>And that's all folks. <strong>I'm happy Doctrine is moving forward to the version 3.0 and I really look forward to it</strong> - it will run on PHP 7.2, one more sandbag dropped to make code better.</p>
<p>How is your project doing? What do you do when you feel stuck for a while? Let me know in the comments.</p>

            <br>


            <div class="card mt-5 border-warning">
                <div class="card-body text-center mt-2">
                    <p>
                        Have you find this post useful? <strong>Do you want more?</strong>
                    </p>
                    <p>
                        Follow me on <a href="https://twitter.com/votrubaT">Twitter</a>, <a href="/rss.xml">RSS</a> or support me on <a href="https://github.com/sponsors/TomasVotruba">GitHub Sponsors</a>.
                    </p>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-body text-white bg-success text-center">
                                            <a href="/blog/2018/07/05/how-to-convert-latte-templates-to-twig-in-27-regular-expressions" class="d-block">
                            <div>
                                Read next → <strong>How to Convert Latte Templates to Twig in 27 Regular Expressions</strong>
                            </div>
                        </a>
                                    </div>
            </div>

            <br>
            <br>

            <a name="comments"></a>
            <div id="disqus_thread"></div>

<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://itsworthsharing.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
        </div>

        <script id="dsq-count-scr" src="https://itsworthsharing.disqus.com/count.js" async defer></script>

        <link href="/assets/prism/prism.css" rel="stylesheet" type="text/css" />
        <script src="/assets/prism/prism.js"></script>

        <script>
    ga=function(){ ga.q.push(arguments) };
    ga.q=[];
    ga.l=+new Date;
    ga('create', 'UA-46082345-1', 'auto');
    ga('send','pageview');
</script>
<script src="https://www.google-analytics.com/analytics.js" async defer></script>

        <script type="text/javascript">
            // @see https://stackoverflow.com/a/30776817/1348344
            var date = new Date();
            // display every 2nd hour, not to spam users
            if (date.getHours() % 2 === 1) {
                document.querySelector('.book-banner').style.display = 'visible';
            } else {
                document.querySelector('.book-banner').style.display = 'none';
            }
        </script>
    </body>
</html>
