<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Statie is Dead, Long live Symfony Static Dumper | Tomas Votruba</title>
<meta charset="utf-8">
<meta name="robots" content="index, follow">

<link rel="stylesheet" media="print" onload="this.onload=null;this.media='all';" id="ao_optimized_gfonts" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:700&amp;display=swap" />

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:creator" content="@votrubaT"/>

<meta property="og:image" content="/assets/images/tomas_votruba.jpg"/>

<link rel="alternate" type="application/rss+xml" title="Tomas Votruba Blog RSS" href="/rss.xml">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

<link href="/assets/prism/prism.css" rel="stylesheet" type="text/css" />

<link href="/assets/css/style.css?1658629942" rel="stylesheet" type="text/css" />

                <meta property="og:title" content="Statie is Dead, Long live Symfony Static Dumper" />
        <meta property="og:url" content="https://tomasvotruba.com/blog/2020/03/16/statie-is-dead-long-live-symfony-static-dumper" />
        <meta name="description" property="og:description" content="Last week [I wrote about how Statie turned from a feature to a burden](/blog/2020/03/09/art-of-letting-go/) and why we had to let it go.

**What will replace it? How do you migrate?**
" />

                    <meta property="og:image" content="https://tomasvotruba.com/assets/images/posts/2020/dump_static_site_demo.gif" />
            <meta name="twitter:card" content="summary_large_image"/>
            </head>

    <body>
                <!-- post_id: 243 -->
        <div id="menu">
    <div class="container-fluid">
        <a href="/">Home</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/blog">Blog</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/book/the-power-of-automated-refactoring">Book</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/trainings">Trainings</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/contact">Contact</a>
        <span class="pl-2 pr-2">•</span>

        <a href="https://twitter.com/votrubaT" target="blank">Twitter</a>
        <span class="pl-2 pr-2">•</span>

        <a href="/rss.xml" target="blank">RSS</a>
    </div>
</div>

        <div class="container-fluid post" id="content">
            <h1>Statie is Dead, Long live Symfony Static Dumper</h1>

            <div class="pull-right">
                <a href="https://github.com/tomasvotruba/tomasvotruba.com/edit/main/packages/blog/data/2020/2020-03-16-statie-is-dead-long-live-symfony-static-dumper.md">Found a typo? Edit me</a>
            </div>

            <time datetime="2020-03-Mon" class="text-muted">
                2020-03-16
            </time>

            
            
            <div class="card card-bigger mb-5">
                <div class="card-body pb-2">
                    <p>Last week <a href="/blog/2020/03/09/art-of-letting-go/">I wrote about how Statie turned from a feature to a burden</a> and why we had to let it go.
<br>
<strong>What will replace it? How do you migrate?</strong></p>
                </div>
            </div>

            <p>Deprecations without replacements are like nails in the coffin of your forehead while reciting a poem about the beauty of life.</p>
<p>The <a href="https://github.com/tomasvotruba/friendsofphp.org">friendsofphp.org</a> and this blog <strong>still uses PHP and is deployed to GitHub pages</strong>. How is that possible without Statie?</p>
<p>From Statie, we <strong>fluently switch to brand new package - <a href="https://github.com/symplify/symfony-static-dumper">Symfony Static Dumper</a></strong>. A single command that <strong>generates HTML and CSS from your Symfony application.</strong></p>
<p><br></p>
<p>In short, it looks like this:</p>
<img src="/assets/images/posts/2020/dump_static_site_demo.gif" class="img-thumbnail">
<p><br></p>
<h2 id="killer-features">Killer Features?</h2>
<p>What I love the most about it, that the Symfony Static Dumper <strong>only handles the missing part - generate HTML and CSS</strong>. All the rest is up to you, your imagination. You code standard Symfony application, nothing special, nothing weird.</p>
<p>Do you want more advantages?</p>
<ul>
<li>no more Javascript to run the website ✅</li>
<li>we can use most of the Symfony Ecosystem ✅</li>
<li>we can use database, even Doctrine ✅</li>
<li>develop normal Symfony application, then dump the HTML + CSS on deploy ✅</li>
<li>standard Symfony app structure ✅</li>
<li>use <code>{{ path('contact') }}</code> in templates ✅</li>
<li>use Symfony plugin ✅</li>
<li>single command use ✅</li>
</ul>
<h2 id="how-to-migrate-from-statie-to-symfony-static-site-dumper">How to Migrate from Statie to Symfony Static Site Dumper?</h2>
<p>Do you still use Statie? Don't worry; we have a migration path for you.</p>
<h3 id="add-symfony-packages">Add Symfony Packages</h3>
<p>First, you need to install Symfony packages:</p>
<pre><code class="language-bash">composer require symfony/http-foundation symfony/asset symfony/twig-bridge symfony/twig-bundle symfony/flex symfony/framework-bundle symfony/dotenv doctrine/cache erusev/parsedown-extra</code></pre>
<p>And replace the static generator:</p>
<pre><code class="language-bash">composer remove symplify/statie
composer require symplify/symfony-static-dumper</code></pre>
<h3 id="setup-basic-symfony-app">Setup Basic Symfony App</h3>
<ul>
<li>add <a href="https://github.com/symfony/demo/blob/main/bin/console"><code>bin/console</code></a></li>
<li>add <a href="https://github.com/TomasVotruba/friendsofphp.org/blob/master/src/HttpKernel/FopKernel.php"><code>src/HttpKernel/YourAppKernel.php</code></a></li>
</ul>
<h3 id="move-code-source-code">Move <code>/source</code></h3>
<ul>
<li>Templates to <code>/templates</code></li>
<li>Public content, e.g. <code>robots.txt</code> or <code>CNAME</code> to <code>/public</code></li>
</ul>
<h3 id="update-ci">Update CI</h3>
<pre><code class="language-diff">-vendor/bin/statie generate source
+bin/console dump-static-site</code></pre>
<h3 id="pages-to-controller-templates">Pages to Controller Templates</h3>
<p><strong>Before:</strong></p>
<pre><code class="language-twig">---
layout: "_layouts/default.twig"
title: "Thank You"
id: thank_you
commit_limit: 5
---

&lt;div class="container" id="contact"&gt;
    &lt;h1&gt;{{ title }}&lt;/h1&gt;

    &lt;p class="text-center bigger"&gt;&lt;/p&gt;
&lt;/div&gt;</code></pre>
<p><strong>After:</strong></p>
<pre><code class="language-twig">{# templates/thanky_you.twig #}
{% extends "default.twig" %}

{% block content %}
    &lt;div class="container" id="contact"&gt;
        &lt;h1&gt;{{ title }}&lt;/h1&gt;

        &lt;p class="text-center bigger"&gt;&lt;/p&gt;
    &lt;/div&gt;
{% endblock %}</code></pre>
<pre><code class="language-php">// src/Controller/ThankYouController.php
namespace YourWebsite\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Annotation\Route;

final class ThankYouController extends AbstractController
{
    /**
     * @Route(path="thank-you", name="thank_you")
     */
    public function __invoke(): Response
    {
        return $this-&gt;render('thank_you.twig', [
            'title' =&gt; 'Thank You',
            'id' =&gt; 'thank_you',
            'commit_limit' =&gt; 5,
        ]);
    }
}</code></pre>
<p>If you need more inspiration, look at these pull-requests:</p>
<ul>
<li><a href="https://github.com/TomasVotruba/tomasvotruba.com/pull/940">migration of TomasVotruba.com</a></li>
<li><a href="https://github.com/TomasVotruba/friendsofphp.org/pull/162">migration of FriendsOfPhp.org</a> - <a href="https://github.com/TomasVotruba/friendsofphp.org/pull/169">part #2</a></li>
</ul>
<h2 id="how-to-set-it-up">How to Set it Up?</h2>
<p>All the essential information is in <a href="https://github.com/symplify/symfony-static-dumper">README</a>.</p>
<p>Install the package via composer:</p>
<pre><code class="language-bash">composer require symplify/symfony-static-dumper</code></pre>
<p>Register services - no Flex, no bundles, just simple config:</p>
<pre><code class="language-yaml"># config/services.yaml
imports:
    - { resource: '../vendor/symplify/symfony-static-dumper/config/config.yaml' }</code></pre>
<p>And dump static website to <code>/output</code> directory:</p>
<pre><code class="language-bash">bin/console dump-static-website</code></pre>
<p>To see the website, just run the local server:</p>
<pre><code class="language-bash">php -S localhost:8001 -t output</code></pre>
<p>That's it!</p>
<p><br></p>
<p>Happy coding!</p>

            <br>


            <div class="card mt-5">
                <div class="card-body text-center mt-2">
                    <p>
                        Have you find this post useful? <strong>Do you want more?</strong>
                    </p>
                    <p>
                        Follow me on <a href="https://twitter.com/votrubaT">Twitter</a>, <a href="/rss.xml">RSS</a> or support me on <a href="https://github.com/sponsors/TomasVotruba">GitHub Sponsors</a>.
                    </p>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-body text-white bg-success text-center">
                                                                <a href="/blog/2020/03/09/art-of-letting-go" class="d-block">
                            <div>
                                Read next → <strong>Art of Letting Go</strong>
                            </div>
                        </a>
                                    </div>
            </div>

            <br>
            <br>

            <a name="comments"></a>
            <div id="disqus_thread"></div>

<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://itsworthsharing.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
        </div>

        <script id="dsq-count-scr" src="https://itsworthsharing.disqus.com/count.js" async defer></script>

        <script>
    ga=function(){ ga.q.push(arguments) };
    ga.q=[];
    ga.l=+new Date;
    ga('create', 'UA-46082345-1', 'auto');
    ga('send','pageview');
</script>
<script src="https://www.google-analytics.com/analytics.js" async defer></script>
<script src="/assets/prism/prism.js"></script>
    </body>
</html>
